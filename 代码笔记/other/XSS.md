## XSS

全称 Cross Stie Scripting

为了和 CSS 样式表进行区分，所以叫做 XSS

即 ‘跨站脚本攻击’

此攻击是指往 Web 页面插入恶意 Script 代码

当用户浏览该页时，嵌入其中的恶意代码就会被执行，从而达到攻击用户的目的

XSS 分为 ‘反射型XSS’ 和 '存储型XSS'

### 反射型 XSS

恶意代码没有保存在目标网站

而是通过引诱用户点击一个链接到目标网站的恶意链接来实施攻击

比如将一个 http://www.xxx.com/?id=" /><.script>alert(/xss/)</.script>

这个链接发送邮箱给其他用户

当其他用户点击了后，就会执行 script 标签中的代码

就有可能出现被盗取 cookie 信息等

1. 比如将 www.baidu.com?id="/><.script>这里放恶意代码地址</.script> 这个链接用邮箱发送给用户

2. 用户不小心点击了这个链接

3. 在用户的浏览器执行了恶意代码

4. 恶意代码将信息发送给黑客

5. 黑客用信息进行登录操作等

### 存储型 XSS

恶意代码被保存到目标服务器中，如服务器里

这种攻击具有较强的稳定性和持久性

比较常见的场景是在博客、论坛等社交网站上

比如发表文章时，文本中插入 <.script>alert('xss')</.script>

这样恶意代码就被存在了数据库

其他用户访问这篇文章时都会被 XSS 攻击

## 防范

1. 对插入到页面上的敏感字符进行转义 （使用 escapeHtml 这个函数）

2. 对插入到页面上的敏感字符进行过滤

3. 禁止 'javascript' 'eval' 这些关键词